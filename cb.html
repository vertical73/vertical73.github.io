<html>

<head>
    <title>cb</title>
    <meta http-equiv="refresh" content="10" >
    <style>
        body {
             background-color: #000000;
             color: #cccccc;
        }
    </style>
    <link rel="icon" type="image/png" href="https://vertical73.github.io/cb-icon.png">
    <link rel="shortcut icon" type="image/png" href="https://vertical73.github.io/cb-icon.png">
    <script>
        function writeModelNode(model) {
            var cbUrl = "https://m.chaturbate.com/" + model + "/";
            var imgUrl =  "https://roomimg.stream.highwebmedia.com/ri/" + model + ".jpg";
            
            var xhr = new XMLHttpRequest();
            xhr.open('HEAD', imgUrl, false);
            var imgSize = 0;
            xhr.onreadystatechange = function() {
                if ( xhr.readyState == 4 ) {
                    imgSize = xhr.getResponseHeader('Content-Length');
                    if (imgSize != 21971 && imgSize != 7442) {
                        var anchor = document.createElement("a");
                        anchor.href = cbUrl;
                        anchor.target = "_blank";
                        var img = new Image();
                        img.src = imgUrl;
                        console.log(imgUrl + "\t*\t" + imgSize + "\t*\t" + model);

                        var div = document.createElement("div");
                        div.id = model;
                        div.class = "model";
                        div.style = "display: inline;";
                        anchor.appendChild(img);
                        div.appendChild(anchor);
                        document.body.appendChild(div);
                    } else {
                        console.log(imgUrl + "\t-\t" + imgSize + "\t-\t" + model);
                    }
                }
            }
            xhr.send();
        }
    </script>
</head>

<body>
    <!-- 
    <span><a href="https://m.chaturbate.com/evasasha/" target="_blank"><img src="https://roomimg.stream.highwebmedia.com/ri/evasasha.jpg"></a></span>
    <span><a href="https://m.chaturbate.com/lovely_monic/" target="_blank"><img src="https://roomimg.stream.highwebmedia.com/ri/lovely_monic.jpg"></a></span>
    <span><a href="https://m.chaturbate.com/mikimakey/" target="_blank"><img src="https://roomimg.stream.highwebmedia.com/ri/mikimakey.jpg"></a></span>
    <span><a href="https://m.chaturbate.com/cogitademe/" target="_blank"><img src="https://roomimg.stream.highwebmedia.com/ri/cogitademe.jpg"></a></span>
    <span><a href="https://m.chaturbate.com/molly_doolly/" target="_blank"><img src="https://roomimg.stream.highwebmedia.com/ri/molly_doolly.jpg"></a></span>
    <span><a href="https://m.chaturbate.com/dreamana/" target="_blank"><img src="https://roomimg.stream.highwebmedia.com/ri/dreamana.jpg"></a></span>
    -->

    <script src="./models.js"></script>
    <script>
        for (n in models) {
            writeModelNode(models[n]);
        }
    </script>


</body>

</html>
